{"ast":null,"code":"var _jsxFileName = \"/Users/justdial/Desktop/JustDial/typescript-react/src/components/TodoCard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { AiFillDelete, AiFillEdit, AiOutlineFileDone } from 'react-icons/ai';\nimport './styles.css';\nimport { Draggable } from 'react-beautiful-dnd';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TodoCard = _ref => {\n  _s();\n  let {\n    element,\n    todos,\n    setTodos,\n    index\n  } = _ref;\n  const [edit, setEdit] = useState(false);\n  const [editTodo, setEditTodo] = useState(element.todo);\n  const inputRef = useRef(null);\n\n  // * Function to mark done todo * //\n  const handleDone = id => {\n    const updatedTodos = todos.map(todo => todo.id === id ? {\n      ...todo,\n      isDone: !todo.isDone\n    } : todo);\n    setTodos(updatedTodos);\n  };\n  // * Function to delet todo * //\n  const handleDelet = id => {\n    const updatedTodos = todos.filter(todo => todo.id !== id);\n    setTodos(updatedTodos);\n  };\n\n  // * Function to submit the edited todo * //\n  const handleEdiit = (e, id) => {\n    e.preventDefault();\n    const updatedTodos = todos.map(todo => todo.id === id ? {\n      ...todo,\n      todo: editTodo\n    } : todo);\n    setTodos(updatedTodos);\n    setEdit(false);\n  };\n\n  // * focus the edit input when user clicks on edit * //\n  useEffect(() => {\n    var _inputRef$current;\n    (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.focus();\n  }, [edit]);\n  return /*#__PURE__*/_jsxDEV(Draggable, {\n    draggableId: element.id.toString(),\n    index: index,\n    children: (provided, snapshot) => /*#__PURE__*/_jsxDEV(\"form\", {\n      className: `todos__single ${snapshot.isDragging ? 'drag' : ''}`,\n      onSubmit: e => handleEdiit(e, element.id),\n      ...provided.draggableProps,\n      ...provided.dragHandleProps,\n      ref: provided.innerRef,\n      children: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [(() => {\n          if (edit) {\n            return /*#__PURE__*/_jsxDEV(\"input\", {\n              ref: inputRef,\n              value: editTodo,\n              type: \"input\",\n              onChange: e => setEditTodo(e.target.value),\n              className: \"todos__single--text\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 19\n            }, this);\n          }\n          if (element.isDone) {\n            /*#__PURE__*/_jsxDEV(\"s\", {\n              className: \"todos__single--text\",\n              children: element.todo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 17\n            }, this);\n          }\n          if (element.isDone) {\n            /*#__PURE__*/_jsxDEV(\"s\", {\n              className: \"todos__single--text\",\n              children: element.todo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 17\n            }, this);\n          }\n          return /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"todos__single--text\",\n            children: element.todo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 17\n          }, this);\n        })(), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"icon\",\n            onClick: () => {\n              if (!edit && !element.isDone) {\n                setEdit(!edit);\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(AiFillEdit, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"icon\",\n            onClick: () => handleDelet(element.id),\n            children: /*#__PURE__*/_jsxDEV(AiFillDelete, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"icon\",\n            onClick: () => handleDone(element.id),\n            children: /*#__PURE__*/_jsxDEV(AiOutlineFileDone, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n_s(TodoCard, \"AZJ6ejYfy+Putc468Uuygqbggc0=\");\n_c = TodoCard;\nexport default TodoCard;\nvar _c;\n$RefreshReg$(_c, \"TodoCard\");","map":{"version":3,"names":["React","useState","useRef","useEffect","AiFillDelete","AiFillEdit","AiOutlineFileDone","Draggable","TodoCard","element","todos","setTodos","index","edit","setEdit","editTodo","setEditTodo","todo","inputRef","handleDone","id","updatedTodos","map","isDone","handleDelet","filter","handleEdiit","e","preventDefault","current","focus","toString","provided","snapshot","isDragging","draggableProps","dragHandleProps","innerRef","target","value"],"sources":["/Users/justdial/Desktop/JustDial/typescript-react/src/components/TodoCard.tsx"],"sourcesContent":["import React, { FC, useState, useRef, useEffect } from 'react';\nimport { Todo } from '../model';\nimport { AiFillDelete, AiFillEdit, AiOutlineFileDone } from 'react-icons/ai';\nimport './styles.css';\nimport { Draggable } from 'react-beautiful-dnd';\n\ntype Props = {\n  element: Todo;\n  todos: Todo[];\n  index: number;\n  setTodos: React.Dispatch<React.SetStateAction<Todo[]>>;\n};\nconst TodoCard: FC<Props> = ({ element, todos, setTodos, index }) => {\n  const [edit, setEdit] = useState(false);\n  const [editTodo, setEditTodo] = useState(element.todo);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  // * Function to mark done todo * //\n  const handleDone = (id: number) => {\n    const updatedTodos = todos.map((todo) =>\n      todo.id === id ? { ...todo, isDone: !todo.isDone } : todo\n    );\n    setTodos(updatedTodos);\n  };\n  // * Function to delet todo * //\n  const handleDelet = (id: number) => {\n    const updatedTodos = todos.filter((todo) => todo.id !== id);\n    setTodos(updatedTodos);\n  };\n\n  // * Function to submit the edited todo * //\n  const handleEdiit = (e: React.FormEvent, id: number) => {\n    e.preventDefault();\n    const updatedTodos = todos.map((todo) =>\n      todo.id === id ? { ...todo, todo: editTodo } : todo\n    );\n    setTodos(updatedTodos);\n    setEdit(false);\n  };\n\n  // * focus the edit input when user clicks on edit * //\n  useEffect(() => {\n    inputRef.current?.focus();\n  }, [edit]);\n\n  return (\n    <Draggable draggableId={element.id.toString()} index={index}>\n      {(provided, snapshot) => (\n        <form\n          className={`todos__single ${snapshot.isDragging ? 'drag' : ''}`}\n          onSubmit={(e) => handleEdiit(e, element.id)}\n          {...provided.draggableProps}\n          {...provided.dragHandleProps}\n          ref={provided.innerRef}\n        >\n          <>\n            {(() => {\n              if (edit) {\n                return (\n                  <input\n                    ref={inputRef}\n                    value={editTodo}\n                    type=\"input\"\n                    onChange={(e) => setEditTodo(e.target.value)}\n                    className=\"todos__single--text\"\n                  />\n                );\n              }\n\n              if (element.isDone) {\n                <s className=\"todos__single--text\">{element.todo}</s>;\n              }\n              if (element.isDone) {\n                <s className=\"todos__single--text\">{element.todo}</s>;\n              }\n\n              return (\n                <span className=\"todos__single--text\">{element.todo}</span>\n              );\n            })()}\n            <div>\n              <span\n                className=\"icon\"\n                onClick={() => {\n                  if (!edit && !element.isDone) {\n                    setEdit(!edit);\n                  }\n                }}\n              >\n                <AiFillEdit />\n              </span>\n              <span className=\"icon\" onClick={() => handleDelet(element.id)}>\n                <AiFillDelete />\n              </span>\n              <span className=\"icon\" onClick={() => handleDone(element.id)}>\n                <AiOutlineFileDone />\n              </span>\n            </div>\n          </>\n        </form>\n      )}\n    </Draggable>\n  );\n};\n\nexport default TodoCard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}